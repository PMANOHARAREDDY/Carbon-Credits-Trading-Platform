{"ast":null,"code":"var _jsxFileName = \"C:\\\\Infosys Hackathon\\\\carbon-credit-platform\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard({\n  userEmail,\n  refresh\n}) {\n  _s();\n  const [projects, setProjects] = useState([]);\n  const [credits, setCredits] = useState([]);\n  useEffect(() => {\n    // Fetch all projects and all credits\n    fetch('http://localhost:5000/projects').then(res => res.json()).then(setProjects);\n    fetch('http://localhost:5000/board/creditwise_history').then(res => res.json()).then(data => setCredits(data.filter(c => c.owner_email === userEmail)));\n  }, [refresh]);\n\n  // Helper to get project details by ID\n  const getProject = projectId => projects.find(p => p.project_id === projectId);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Owned Credits\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [credits.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"No credits owned yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 34\n      }, this), credits.map(credit => {\n        const project = getProject(credit.project_id);\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginBottom: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Credit:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 15\n          }, this), \" ID: \", credit.credit_id, \", Amount: \", credit.amount, \", Status: \", credit.status, \", For Sale: \", credit.for_sale ? 'Yes' : 'No', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Project:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this), \" \", project ? `${project.name} (ID: ${project.project_id}) - Owner: ${project.owner_email} - Status: ${project.status}` : 'Project details not found']\n        }, credit.credit_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"ZP6FtXbP+fBOIZPJQ7COoBgPh5A=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Dashboard","userEmail","refresh","_s","projects","setProjects","credits","setCredits","fetch","then","res","json","data","filter","c","owner_email","getProject","projectId","find","p","project_id","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","credit","project","style","marginBottom","credit_id","amount","status","for_sale","name","_c","$RefreshReg$"],"sources":["C:/Infosys Hackathon/carbon-credit-platform/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nfunction Dashboard({ userEmail, refresh }) {\r\n  const [projects, setProjects] = useState([]);\r\n  const [credits, setCredits] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch all projects and all credits\r\n    fetch('http://localhost:5000/projects')\r\n      .then(res => res.json())\r\n      .then(setProjects);\r\n    fetch('http://localhost:5000/board/creditwise_history')\r\n      .then(res => res.json())\r\n      .then(data => setCredits(data.filter(c => c.owner_email === userEmail)));\r\n  }, [refresh]);\r\n\r\n  // Helper to get project details by ID\r\n  const getProject = (projectId) =>\r\n    projects.find(p => p.project_id === projectId);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Your Owned Credits</h2>\r\n      <ul>\r\n        {credits.length === 0 && <li>No credits owned yet.</li>}\r\n        {credits.map(credit => {\r\n          const project = getProject(credit.project_id);\r\n          return (\r\n            <li key={credit.credit_id} style={{ marginBottom: 10 }}>\r\n              <strong>Credit:</strong> ID: {credit.credit_id}, Amount: {credit.amount}, Status: {credit.status}, For Sale: {credit.for_sale ? 'Yes' : 'No'}\r\n              <br />\r\n              <strong>Project:</strong> {project ? `${project.name} (ID: ${project.project_id}) - Owner: ${project.owner_email} - Status: ${project.status}` : 'Project details not found'}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}